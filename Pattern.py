from PIL import Image

class Pattern:
    def __init__(self, name: str, description: str, image_path: str):
        self.name = name
        self.description = description
        self.image_path = image_path
        try:
            self.image = Image.open(image_path)
        except FileNotFoundError:
            print(f"[!] Не найден файл изображения: {image_path}")
            self.image = None

    def __repr__(self):
        return f"Pattern(name={self.name!r}, description={self.description!r}, image_path={self.image_path!r})"


patterns = [
    Pattern(
        "Смена тренда: первый более низкий хай",
        "Фигура указывает на возможный разворот тренда вниз. После длительного роста появляется максимум, за которым следует откат и новый максимум ниже предыдущего — сигнал ослабления покупателей.",
        "patterns/Смена тренда первый более низкий хай.png"
    ),
    Pattern(
        "Смена тренда: первый более низкий хай и первый более низкий лоу",
        "Комбинация более низкого максимума и минимума подтверждает разворот вниз. Покупатели теряют силу, продавцы начинают доминировать.",
        "patterns/Смена тренда первый более низкий хай и первый более низкий лоу.png"
    ),
    Pattern(
        "Двойная вершина",
        "Классическая фигура разворота. Цена формирует два максимума на одном уровне, между которыми происходит коррекция. Пробой линии шеи подтверждает смену тренда вниз.",
        "patterns/Двойная вершина.png"
    ),
    Pattern(
        "Тройная вершина",
        "Редкая, но сильная фигура разворота, состоящая из трёх максимумов примерно на одном уровне. Пробой поддержки после третьего пика подтверждает сигнал.",
        "patterns/Тройная вершина.png"
    ),
    Pattern(
        "Голова и плечи",
        "Одна из самых надёжных фигур разворота. Средний пик (голова) выше двух боковых (плеч). Пробой линии шеи указывает на начало нисходящего тренда.",
        "patterns/Голова и плечи.png"
    ),
    Pattern(
        "Перевернутая голова и плечи",
        "Отражение классической модели. После нисходящего тренда формируются три впадины, средняя из которых глубже. Пробой линии шеи — сигнал к росту.",
        "patterns/Перевернутая ГиП.png"
    ),
    Pattern(
        "Двойное дно",
        "Фигура разворота вверх. Два минимума на одном уровне указывают на ослабление давления продавцов и готовность к росту.",
        "patterns/Двойное дно.png"
    ),
    Pattern(
        "Тройное дно",
        "Аналог двойного дна, но с тремя минимумами. Сильный сигнал смены нисходящего тренда на восходящий.",
        "patterns/Тройное дно.png"
    ),
    Pattern(
        "Восходящий клин",
        "Цена растёт в сужающемся диапазоне, при этом объёмы падают. Часто предвещает разворот вниз.",
        "patterns/Восходящий клин.png"
    ),
    Pattern(
        "Нисходящий клин",
        "Сужающееся падение, обычно сопровождается снижением волатильности. Часто становится предвестником разворота вверх.",
        "patterns/Нисходящий клин.png"
    ),
    Pattern(
        "Изменение тренда",
        "Обобщённый сигнал окончания текущего тренда. Проявляется через слабые обновления экстремумов и изменение динамики объёмов.",
        "patterns/Изменение тренда.png"
    ),
    Pattern(
        "Медвежий расходящийся треугольник",
        "Расширяющаяся формация, где максимумы и минимумы увеличиваются. Указывает на нарастающую волатильность и возможный пробой вниз.",
        "patterns/Медвежий расходящийся треугольник.png"
    ),
    Pattern(
        "Круглая вершина",
        "Плавное закругление цены после восходящего движения. Постепенный переход от покупок к продажам.",
        "patterns/Круглая вершина.png"
    ),
    Pattern(
        "Перевернутая чаша с ручкой",
        "Редкая фигура разворота вниз. После плавного подъёма цена формирует куполообразный максимум с небольшой консолидацией (ручкой).",
        "patterns/Перевернутая чаша с ручкой.png"
    ),
    Pattern(
        "Бриллиант формирование вершины",
        "Редкий паттерн, сочетающий расширение и сужение диапазона. Формируется на вершине рынка и сигнализирует смену тренда вниз.",
        "patterns/Бриллиант формирование вершины.png"
    ),
    Pattern(
        "Бычий расходящийся треугольник",
        "Расширяющаяся формация с повышающимися минимумами. Часто сигнализирует о продолжении роста.",
        "patterns/Бычий расходящийся треугольник.png"
    ),
    Pattern(
        "Чаша без ручки",
        "Закруглённое дно, показывающее плавное накопление объёма перед ростом. Без коррекции.",
        "patterns/Чаша без ручки.png"
    ),
    Pattern(
        "Чаша с ручкой",
        "Классическая фигура роста. После плавного дна происходит небольшая коррекция (ручка), затем пробой вверх.",
        "patterns/Чаша с ручкой.png"
    ),
    Pattern(
        "Бриллиант формирование дна",
        "Редкий, но сильный паттерн смены нисходящего тренда на восходящий. Сначала диапазон расширяется, затем сужается перед пробоем вверх.",
        "patterns/Бриллиант формирование дна.png"
    ),
    Pattern(
        "Бычий флаг",
        "Краткосрочная консолидация на фоне сильного восходящего движения. После паузы обычно следует продолжение роста.",
        "patterns/Бычий флаг.png"
    ),
    Pattern(
        "Медвежий флаг",
        "Консолидация после сильного падения. Пробой вниз подтверждает продолжение нисходящего движения.",
        "patterns/Медвежий флаг.png"
    ),
    Pattern(
        "Вымпел",
        "Маленькая консолидация после мощного импульса. Появляется на любом тренде и указывает на кратковременную паузу перед продолжением движения.",
        "patterns/Вымпел.png"
    ),
    Pattern(
        "Медвежий вымпел",
        "Появляется после падения, характеризуется сужением диапазона. Пробой вниз подтверждает продолжение тренда.",
        "patterns/Медвежий вымпел.png"
    ),
    Pattern(
        "Медвежий прямоугольник",
        "Фигура консолидации в нисходящем тренде. Цена движется в горизонтальном диапазоне перед новым импульсом вниз.",
        "patterns/Медвежий прямоугольник.png"
    ),
    Pattern(
        "Плоская база (Бычий прямоугольник)",
        "Консолидация в виде горизонтального диапазона на фоне восходящего тренда. Пробой вверх подтверждает продолжение роста.",
        "patterns/Плоская база Бычий прямоугольник.png"
    ),
    Pattern(
        "Восходящий треугольник",
        "Горизонтальное сопротивление и растущие минимумы. Пробой вверх сигнализирует о продолжении тренда.",
        "patterns/Восходящий треугольник.png"
    ),
    Pattern(
        "Бычий нисходящий клин",
        "Падение в сужающемся диапазоне — признак истощения продавцов. Часто предшествует развороту вверх.",
        "patterns/Бычий нисходящий клин.png"
    ),
    Pattern(
        "Медвежий восходящий клин",
        "Рост с сужением диапазона, указывающий на истощение покупателей. После пробоя вниз часто следует падение.",
        "patterns/Медвежий восходящий клин.png"
    ),
    Pattern(
        "Тренд",
        "Продолжительное движение цены в одном направлении, подтверждаемое серией повышающихся или понижающихся экстремумов.",
        "patterns/Тренд.png"
    ),
    Pattern(
        "Ложный пробой",
        "Цена пробивает уровень, но затем возвращается обратно. Часто используется для сбора ликвидности перед движением в противоположную сторону.",
        "patterns/Ложный пробой.png"
    )
]